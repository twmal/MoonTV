2025-07-27T05:59:43.059505Z	Cloning repository...
2025-07-27T05:59:43.992203Z	From https://github.com/twmal/MoonTV
2025-07-27T05:59:43.99264Z	 * branch            d09d841f1b0948ad9db28f5702237dadcac881c7 -> FETCH_HEAD
2025-07-27T05:59:43.992748Z	
2025-07-27T05:59:44.078465Z	HEAD is now at d09d841 feat:添加動態頁面標題功能
2025-07-27T05:59:44.079065Z	
2025-07-27T05:59:44.160202Z	
2025-07-27T05:59:44.160705Z	Using v2 root directory strategy
2025-07-27T05:59:44.1821Z	Success: Finished cloning repository files
2025-07-27T05:59:46.63864Z	Checking for configuration in a Wrangler configuration file (BETA)
2025-07-27T05:59:46.639401Z	
2025-07-27T05:59:47.746433Z	No wrangler.toml file found. Continuing.
2025-07-27T05:59:47.821278Z	Detected the following tools from environment: nodejs@20.10.0, pnpm@10.11.1
2025-07-27T05:59:47.822042Z	Installing nodejs 20.10.0
2025-07-27T05:59:48.839099Z	Trying to update node-build... ok
2025-07-27T05:59:48.937103Z	To follow progress, use 'tail -f /tmp/node-build.20250727055948.494.log' or pass --verbose
2025-07-27T05:59:49.038147Z	Downloading node-v20.10.0-linux-x64.tar.gz...
2025-07-27T05:59:49.264831Z	-> https://nodejs.org/dist/v20.10.0/node-v20.10.0-linux-x64.tar.gz
2025-07-27T05:59:50.932163Z	
2025-07-27T05:59:50.932466Z	WARNING: node-v20.10.0-linux-x64 is in LTS Maintenance mode and nearing its end of life.
2025-07-27T05:59:50.932639Z	It only receives *critical* security updates, *critical* bug fixes and documentation updates.
2025-07-27T05:59:50.932844Z	
2025-07-27T05:59:50.932975Z	Installing node-v20.10.0-linux-x64...
2025-07-27T05:59:51.333435Z	Installed node-v20.10.0-linux-x64 to /opt/buildhome/.asdf/installs/nodejs/20.10.0
2025-07-27T05:59:51.333665Z	
2025-07-27T05:59:53.055017Z	
2025-07-27T05:59:53.055334Z	changed 1 package in 489ms
2025-07-27T05:59:53.063491Z	Reshimming asdf nodejs...
2025-07-27T05:59:56.844562Z	Preparing pnpm@10.11.1 for immediate activation...
2025-07-27T05:59:57.529524Z	! Corepack is about to download https://registry.npmjs.org/pnpm/-/pnpm-10.12.4.tgz
2025-07-27T05:59:58.651101Z	Installing project dependencies: pnpm install
2025-07-27T05:59:59.300742Z	Lockfile is up to date, resolution step is skipped
2025-07-27T05:59:59.42049Z	Progress: resolved 1, reused 0, downloaded 0, added 0
2025-07-27T05:59:59.635768Z	Packages: +1309
2025-07-27T05:59:59.636037Z	++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
2025-07-27T06:00:00.449291Z	Progress: resolved 1309, reused 0, downloaded 75, added 46
2025-07-27T06:00:01.449973Z	Progress: resolved 1309, reused 0, downloaded 268, added 256
2025-07-27T06:00:02.450674Z	Progress: resolved 1309, reused 0, downloaded 316, added 289
2025-07-27T06:00:03.451235Z	Progress: resolved 1309, reused 0, downloaded 374, added 322
2025-07-27T06:00:04.451513Z	Progress: resolved 1309, reused 0, downloaded 446, added 369
2025-07-27T06:00:05.45139Z	Progress: resolved 1309, reused 0, downloaded 606, added 510
2025-07-27T06:00:06.452533Z	Progress: resolved 1309, reused 0, downloaded 712, added 568
2025-07-27T06:00:07.452277Z	Progress: resolved 1309, reused 0, downloaded 890, added 730
2025-07-27T06:00:08.452669Z	Progress: resolved 1309, reused 0, downloaded 1076, added 934
2025-07-27T06:00:09.452699Z	Progress: resolved 1309, reused 0, downloaded 1298, added 1070
2025-07-27T06:00:10.082341Z	Progress: resolved 1309, reused 0, downloaded 1309, added 1309, done
2025-07-27T06:00:10.626084Z	
2025-07-27T06:00:10.626398Z	dependencies:
2025-07-27T06:00:10.626558Z	+ @cloudflare/next-on-pages 1.13.12
2025-07-27T06:00:10.626688Z	+ @dnd-kit/core 6.3.1
2025-07-27T06:00:10.626816Z	+ @dnd-kit/modifiers 9.0.0
2025-07-27T06:00:10.627322Z	+ @dnd-kit/sortable 10.0.0
2025-07-27T06:00:10.627484Z	+ @dnd-kit/utilities 3.2.2
2025-07-27T06:00:10.627809Z	+ @headlessui/react 2.2.4
2025-07-27T06:00:10.627988Z	+ @heroicons/react 2.2.0
2025-07-27T06:00:10.62808Z	+ @upstash/redis 1.35.1
2025-07-27T06:00:10.628142Z	+ @vidstack/react 1.12.13
2025-07-27T06:00:10.628217Z	+ artplayer 5.2.3
2025-07-27T06:00:10.628278Z	+ clsx 2.1.1
2025-07-27T06:00:10.628639Z	+ framer-motion 12.18.1
2025-07-27T06:00:10.629174Z	+ hls.js 1.6.6
2025-07-27T06:00:10.629447Z	+ lucide-react 0.438.0
2025-07-27T06:00:10.629992Z	+ media-icons 1.1.5
2025-07-27T06:00:10.630246Z	+ next 14.2.30
2025-07-27T06:00:10.630421Z	+ next-pwa 5.6.0
2025-07-27T06:00:10.630541Z	+ next-themes 0.4.6
2025-07-27T06:00:10.630649Z	+ react 18.3.1
2025-07-27T06:00:10.630752Z	+ react-dom 18.3.1
2025-07-27T06:00:10.630874Z	+ react-icons 5.5.0
2025-07-27T06:00:10.63135Z	+ redis 4.7.1
2025-07-27T06:00:10.631503Z	+ sweetalert2 11.22.2
2025-07-27T06:00:10.631629Z	+ swiper 11.2.8
2025-07-27T06:00:10.631743Z	+ tailwind-merge 2.6.0
2025-07-27T06:00:10.631884Z	+ vidstack 0.6.15
2025-07-27T06:00:10.631996Z	+ zod 3.25.67
2025-07-27T06:00:10.632109Z	
2025-07-27T06:00:10.632218Z	devDependencies:
2025-07-27T06:00:10.632349Z	+ @commitlint/cli 16.3.0
2025-07-27T06:00:10.632478Z	+ @commitlint/config-conventional 16.2.4
2025-07-27T06:00:10.63262Z	+ @playwright/test 1.54.1
2025-07-27T06:00:10.632741Z	+ @svgr/webpack 8.1.0
2025-07-27T06:00:10.632881Z	+ @tailwindcss/forms 0.5.10
2025-07-27T06:00:10.632996Z	+ @testing-library/jest-dom 5.17.0
2025-07-27T06:00:10.633118Z	+ @testing-library/react 15.0.7
2025-07-27T06:00:10.633235Z	+ @types/node 24.0.3
2025-07-27T06:00:10.633363Z	+ @types/react 18.3.23
2025-07-27T06:00:10.633479Z	+ @types/react-dom 19.1.6
2025-07-27T06:00:10.633585Z	+ @types/testing-library__jest-dom 5.14.9
2025-07-27T06:00:10.633691Z	+ @typescript-eslint/eslint-plugin 5.62.0
2025-07-27T06:00:10.63393Z	+ @typescript-eslint/parser 5.62.0
2025-07-27T06:00:10.63406Z	+ autoprefixer 10.4.21
2025-07-27T06:00:10.634185Z	+ eslint 8.57.1
2025-07-27T06:00:10.634292Z	+ eslint-config-next 14.2.30
2025-07-27T06:00:10.634409Z	+ eslint-config-prettier 8.10.0
2025-07-27T06:00:10.634507Z	+ eslint-plugin-simple-import-sort 7.0.0
2025-07-27T06:00:10.63461Z	+ eslint-plugin-unused-imports 2.0.0
2025-07-27T06:00:10.634714Z	+ husky 7.0.4
2025-07-27T06:00:10.634821Z	+ jest 27.5.1
2025-07-27T06:00:10.634949Z	+ lint-staged 12.5.0
2025-07-27T06:00:10.635082Z	+ next-router-mock 0.9.13
2025-07-27T06:00:10.635196Z	+ playwright 1.54.1
2025-07-27T06:00:10.635312Z	+ postcss 8.5.6
2025-07-27T06:00:10.635416Z	+ prettier 2.8.8
2025-07-27T06:00:10.635522Z	+ prettier-plugin-tailwindcss 0.5.14
2025-07-27T06:00:10.635626Z	+ tailwindcss 3.4.17
2025-07-27T06:00:10.635732Z	+ typescript 4.9.5
2025-07-27T06:00:10.635833Z	
2025-07-27T06:00:10.63607Z	╭ Warning ─────────────────────────────────────────────────────────────────────╮
2025-07-27T06:00:10.636225Z	│                                                                              │
2025-07-27T06:00:10.636372Z	│   Ignored build scripts: esbuild, sharp, unrs-resolver, workerd.             │
2025-07-27T06:00:10.636491Z	│   Run "pnpm approve-builds" to pick which dependencies should be allowed     │
2025-07-27T06:00:10.636599Z	│   to run scripts.                                                            │
2025-07-27T06:00:10.636702Z	│                                                                              │
2025-07-27T06:00:10.636819Z	╰──────────────────────────────────────────────────────────────────────────────╯
2025-07-27T06:00:10.636962Z	
2025-07-27T06:00:10.650251Z	
2025-07-27T06:00:10.650451Z	> moontv@0.1.0 prepare /opt/buildhome/repo
2025-07-27T06:00:10.650597Z	> husky install
2025-07-27T06:00:10.650837Z	
2025-07-27T06:00:10.788892Z	husky - Git hooks installed
2025-07-27T06:00:10.868641Z	Done in 11.9s using pnpm v10.12.4
2025-07-27T06:00:10.915317Z	Executing user command: pnpm install --frozen-lockfile && pnpm run pages:build
2025-07-27T06:00:11.603367Z	Lockfile is up to date, resolution step is skipped
2025-07-27T06:00:11.781764Z	Already up to date
2025-07-27T06:00:12.133287Z	
2025-07-27T06:00:12.133486Z	╭ Warning ─────────────────────────────────────────────────────────────────────╮
2025-07-27T06:00:12.133566Z	│                                                                              │
2025-07-27T06:00:12.133631Z	│   Ignored build scripts: esbuild, sharp, unrs-resolver, workerd.             │
2025-07-27T06:00:12.133687Z	│   Run "pnpm approve-builds" to pick which dependencies should be allowed     │
2025-07-27T06:00:12.133745Z	│   to run scripts.                                                            │
2025-07-27T06:00:12.133812Z	│                                                                              │
2025-07-27T06:00:12.133892Z	╰──────────────────────────────────────────────────────────────────────────────╯
2025-07-27T06:00:12.134011Z	
2025-07-27T06:00:12.154035Z	
2025-07-27T06:00:12.154296Z	> moontv@0.1.0 prepare /opt/buildhome/repo
2025-07-27T06:00:12.154958Z	> husky install
2025-07-27T06:00:12.155302Z	
2025-07-27T06:00:12.22799Z	husky - Git hooks installed
2025-07-27T06:00:12.240206Z	Done in 1s using pnpm v10.12.4
2025-07-27T06:00:12.808466Z	
2025-07-27T06:00:12.808806Z	> moontv@0.1.0 pages:build /opt/buildhome/repo
2025-07-27T06:00:12.808958Z	> pnpm gen:runtime && pnpm gen:manifest && next build && npx @cloudflare/next-on-pages --experimental-minify
2025-07-27T06:00:12.809219Z	
2025-07-27T06:00:13.171892Z	
2025-07-27T06:00:13.172113Z	> moontv@0.1.0 gen:runtime /opt/buildhome/repo
2025-07-27T06:00:13.172738Z	> node scripts/convert-config.js
2025-07-27T06:00:13.172829Z	
2025-07-27T06:00:13.220804Z	已生成 src/lib/runtime.ts
2025-07-27T06:00:13.598048Z	
2025-07-27T06:00:13.598558Z	> moontv@0.1.0 gen:manifest /opt/buildhome/repo
2025-07-27T06:00:13.598719Z	> node scripts/generate-manifest.js
2025-07-27T06:00:13.59917Z	
2025-07-27T06:00:13.645673Z	✅ Generated manifest.json with site name: MoonTV
2025-07-27T06:00:14.922432Z	⚠ No build cache found. Please configure build caching for faster rebuilds. Read more: https://nextjs.org/docs/messages/no-cache
2025-07-27T06:00:14.92642Z	Attention: Next.js now collects completely anonymous telemetry regarding usage.
2025-07-27T06:00:14.926602Z	This information is used to shape Next.js' roadmap and prioritize features.
2025-07-27T06:00:14.926725Z	You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-07-27T06:00:14.92683Z	https://nextjs.org/telemetry
2025-07-27T06:00:14.926953Z	
2025-07-27T06:00:14.993599Z	  ▲ Next.js 14.2.30
2025-07-27T06:00:14.993874Z	
2025-07-27T06:00:15.053297Z	   Creating an optimized production build ...
2025-07-27T06:00:15.457368Z	> [PWA] Compile server
2025-07-27T06:00:15.458403Z	> [PWA] Compile server
2025-07-27T06:00:15.459133Z	> [PWA] Compile client (static)
2025-07-27T06:00:15.459465Z	> [PWA] Auto register service worker with: /opt/buildhome/repo/node_modules/.pnpm/next-pwa@5.6.0_@babel+core@7.27.4_@types+babel__core@7.20.5_next@14.2.30_@babel+core@7._0cf51467d77e67801308340b2bb86288/node_modules/next-pwa/register.js
2025-07-27T06:00:15.459794Z	> [PWA] Service worker: /opt/buildhome/repo/public/sw.js
2025-07-27T06:00:15.460135Z	> [PWA]   url: /sw.js
2025-07-27T06:00:15.460231Z	> [PWA]   scope: /
2025-07-27T06:00:39.076549Z	 ✓ Compiled successfully
2025-07-27T06:00:39.07906Z	   Linting and checking validity of types ...
2025-07-27T06:00:47.857844Z	Failed to compile.
2025-07-27T06:00:47.85815Z	
2025-07-27T06:00:47.858284Z	./src/app/play/page.tsx:90:7
2025-07-27T06:00:47.858402Z	Type error: Block-scoped variable 'videoTitle' used before its declaration.
2025-07-27T06:00:47.858682Z	
2025-07-27T06:00:47.858922Z	[0m [90m 88 |[39m[0m
2025-07-27T06:00:47.859064Z	[0m [90m 89 |[39m     updatePageTitle()[33m;[39m[0m
2025-07-27T06:00:47.859241Z	[0m[31m[1m>[22m[39m[90m 90 |[39m   }[33m,[39m [videoTitle[33m,[39m currentEpisodeIndex[33m,[39m totalEpisodes])[33m;[39m[0m
2025-07-27T06:00:47.859342Z	[0m [90m    |[39m       [31m[1m^[22m[39m[0m
2025-07-27T06:00:47.859467Z	[0m [90m 91 |[39m[0m
2025-07-27T06:00:47.859608Z	[0m [90m 92 |[39m   [90m// 视频基本信息[39m[0m
2025-07-27T06:00:47.8599Z	[0m [90m 93 |[39m   [36mconst[39m [videoTitle[33m,[39m setVideoTitle] [33m=[39m useState(searchParams[33m.[39m[36mget[39m([32m'title'[39m) [33m||[39m [32m''[39m)[33m;[39m[0m
2025-07-27T06:00:47.889566Z	Next.js build worker exited with code: 1 and signal: null
2025-07-27T06:00:47.955942Z	 ELIFECYCLE  Command failed with exit code 1.
2025-07-27T06:00:48.00976Z	Failed: Error while executing user command. Exited with error code: 1
2025-07-27T06:00:48.019285Z	Failed: build command exited with code: 1
2025-07-27T06:00:52.285459Z	Failed: error occurred while running build command